# RewriteEngine On

# Options -Indexes

# # Preventing Redirect loop
# RewriteRule ^(frontend|backend)/web/ - [L] 
# RewriteRule ^(common)/web/ - [L]

# RewriteCond %{REQUEST_URI} !^/api
# RewriteCond %{REQUEST_URI} !^/admin
# RewriteCond %{REQUEST_URI} !^/backend
# RewriteCond %{REQUEST_URI} !^/swagger
# RewriteCond %{REQUEST_URI} !^/uploads

# #RewriteRule ^(.*)$ backend/web/index.php/$1 [L] 
# RewriteRule ^(.*)$ /frontend/web/index.php/$1 [L]

# # php -- BEGIN cPanel-generated handler, do not edit
# # Set the “ea-php73” package as the default “PHP” programming language.
# <IfModule mime_module>
#   AddHandler application/x-httpd-ea-php73 .php .php7 .phtml
# </IfModule>
# # php -- END cPanel-generated handler, do not edit


Options -Indexes

<IfModule !mod_rewrite.c>

Deny from all

</IfModule>

<IfModule mod_rewrite.c>

RewriteEngine on
RewriteBase /

# no recursion
RewriteCond %{ENV:REDIRECT_STATUS} 200
RewriteRule ^ - [L]

RewriteCond %{REQUEST_URI} ^/rearend(/.*|)$
# no recursion if '/backend/' is used as backend alias
RewriteCond %{REQUEST_URI} !^/backend/web(/.*|)$
RewriteRule ^rearend(/.*|)$ backend/web$1 [L]

RewriteCond %{REQUEST_URI} !^/backend/web(/.*|)$
RewriteRule ^(.*)$ frontend/web/$1 [L]

</IfModule>